{"version":3,"file":"search.js","sources":["../src/search.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst API_KEY = '46256747-1d18669c2152ad7d06c950e83';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nfunction createImageCard(image) {\n  return `\n    <div class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\">\n        <img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n      <div class=\"div-info\">\n        <div class=\"img-info\">\n        <span class=\"name\">Likes</span>\n        <span class=\"value\">${image.likes}</span>\n        </div>\n        <div class=\"img-info\">\n        <span class=\"name\">Views</span>\n        <span class=\"value\">${image.views}</span>\n        </div>\n        <div class=\"img-info\">\n        <span class=\"name\">Comments</span>\n        <span class=\"value\">${image.comments}</span>\n        </div>\n        <div class=\"img-info\">\n        <span class=\"name\">Downloads</span>\n        <span class=\"value\">${image.downloads}</span>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\nfunction showLoader() {\n  document.querySelector('.loading-spinner').style.display = 'block';\n}\n\nfunction hideLoader() {\n  document.querySelector('.loading-spinner').style.display = 'none';\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const queryInput = form.querySelector('.search-input').value.trim();\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: queryInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${params.toString()}`;\n\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response is not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      hideLoader();\n\n      const images = data.hits;\n\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      const imagesMarkup = images.map(image => createImageCard(image)).join('');\n      gallery.innerHTML = imagesMarkup;\n\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n      hideLoader();\n    });\n});\n"],"names":["API_KEY","BASE_URL","form","gallery","createImageCard","image","showLoader","hideLoader","event","queryInput","params","url","response","data","images","iziToast","imagesMarkup","SimpleLightbox","error"],"mappings":"2GAKA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAgBC,EAAO,CAC9B,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,wCACIA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKhDA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,8BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAK7C,CAEA,SAASC,GAAa,CACpB,SAAS,cAAc,kBAAkB,EAAE,MAAM,QAAU,OAC7D,CAEA,SAASC,GAAa,CACpB,SAAS,cAAc,kBAAkB,EAAE,MAAM,QAAU,MAC7D,CAEAL,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAaP,EAAK,cAAc,eAAe,EAAE,MAAM,OAEvDQ,EAAS,IAAI,gBAAgB,CACjC,IAAKV,EACL,EAAGS,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKE,EAAM,GAAGV,CAAQ,IAAIS,EAAO,SAAU,CAAA,GAE5CP,EAAQ,UAAY,GAEpBG,IAEA,MAAMK,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,4BAA4B,EAE9C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZN,IAEA,MAAMO,EAASD,EAAK,KAEpB,GAAIC,EAAO,SAAW,EAAG,CACvBC,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACD,MACD,CAED,MAAMC,EAAeF,EAAO,IAAIT,GAASD,EAAgBC,CAAK,CAAC,EAAE,KAAK,EAAE,EACxEF,EAAQ,UAAYa,EAEH,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBX,GACN,CAAK,CACL,CAAC"}